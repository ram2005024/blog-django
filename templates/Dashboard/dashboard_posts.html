{% extends 'base.html' %}
{% block content %}
  <div class="w-full mx-auto mt-10">
    <div class="flex gap-10">
      {% comment %}Side bar{% endcomment %}
      {% include 'Dashboard/sidebar.html' %}
      {% comment %}Right section{% endcomment %}
      <div class="flex flex-col gap-4 w-full">
        <h1 class="text-2xl text-center mb-4">All Posts</h1>
        <a href="{% url 'add_posts' %}" class="px-4 w-fit self-end cursor-pointer p-2 h-fit bg-indigo-500 rounded-md text-white">Add new</a>
        <div class="flex flex-col w-full h-80 overflow-y-scroll">
          <table class="table-auto">
            <thead>
              <tr>
                <th class="p-1.5">SN.</th>
                <th class="p-1.5">Title</th>
                <th class="p-1.5">Author</th>
                <th class="p-1.5">Updated_at</th>
                <th class="p-1.5">Status</th>
                <th class="p-1.5">Featured</th>
                <th class="p-1.5">Action</th>
              </tr>
            </thead>
            <tbody>
              {% for post in posts %}
                <tr class="transition-all duration-200 cursor-pointer ease-in-out hover:bg-gray-100">
                  <td class="p-3 text-center">{{ forloop.counter }}</td>
                  <td class="p-3 text-center">{{ post.title }}</td>
                  <td class="p-3 text-center">{{ post.author }}</td>
                  <td class="p-3 text-center">{{ post.updated_at }}</td>
                  <td class="p-3 text-center">{{ post.status }}</td>
                  <td class="p-3 text-center">
                    {% if post.is_featured %}
                      <i class="fa-solid fa-check text-green-500"></i>
                    {% else %}
                      <i class="fa-solid fa-x text-red-500"></i>
                    {% endif %}
                  </td>
                  <td class="p-3 text-center flex items-center">
                    <a href="{% url 'edit_posts' post.id %}"><i class="fa-regular fa-pen-to-square text-gray-500"></i></a>

                    <a href="{% url 'delete_posts' post.id %}"><i class="fa-regular fa-trash-can text-red-500"></i></a>
                  </td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
